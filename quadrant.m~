function outp, xidx, yidx' = quadrant(inp, whichQuadrant)
% extract one quadrant of a square matrix

% % test
% qs = {'top', 'bottom', 'left', 'right'};
% for q = 1:length(qs),
%     subplot(2,2,q); surf(quadrant(randn(100, 100), qs{q})); axis square;
%     title(qs{q});
% end
% if ~exist('inp', 'var'); inp = randn(100, 100); end
% if ~exist('whichQuadrant', 'var'); whichQuadrant = 'bottom'; end

% make axes
x = linspace(-1, 1, size(inp, 1));
y = linspace(-1, 1, size(inp, 2));

% make a grid
[xgr, ygr] = meshgrid(x,y);

% select one quadrant
switch whichQuadrant
    case 'bottom'
        outp = (xgr > ygr) & (abs(xgr) < abs(ygr));
    case 'right'
        outp = (xgr > ygr) & (abs(xgr) > abs(ygr));
    case 'top'
        outp = (xgr < ygr) & (abs(xgr) < abs(ygr));
    case 'left'
        outp = (xgr < ygr) & (abs(xgr) > abs(ygr));
end
end


